{"componentChunkName":"component---src-templates-blog-js","path":"/development/2021/07/07/gatsby-custom-pager/","result":{"data":{"markdownRemark":{"excerpt":"Infinity scroll or pager I opted to implement a pager on markrox.dev Pager.js Followed the guidance on the Gatsby site to query and set…","id":"968a3f71-ea4c-5183-9f4d-6676455e0c7b","frontmatter":{"title":"Rolled My Own Pager","subtitle":"Notes for the pager implementation on markrox.dev","excerpt":"Notes on coding a pager for the site","date":"July 7, 2021","author":"Mark Roxberry","featured":true,"tags":["site","development","react"],"postimage":{"alt":"main post image","src":{"absolutePath":"/home/runner/work/markrox.dev/markrox.dev/temp/src/archive/2021-07-07-gatsby-custom-pager/post.png","childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","placeholder":{"fallback":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAIAAABr+ngCAAAACXBIWXMAAAsTAAALEwEAmpwYAAADmElEQVR42l2RW0xadxzHz/ve+rZkD7VZd2u6apdpd+lQcdp2U1vnplWreImoFHDIVS4HuRwOFwXagqhctID0wIDjpLZi4+y6uWyJVNvp3GqsW6pRsZjK2gmT89/Z05Iln3zfvr/v95sftLiqXnmCPnwkiS1xlx/LNndNW7vGtQ109Ykm/sx2AEIHIJgmAvsElgaB/wHtJO335gQu/+cW5xnb8Dl3oHI2JnyadKYy/v0M9jztSSTtO3tDacKfIrAUqcD/nzmZGg1GO1yB2gF3ucVx9upQiUL/rsVZElsUW+z5hivvIb155sGi3T+HCYAfEGSREHmCvPWvmQCh+UdoMNruv9lisFKl6hPinjfQ3nfGJqqkyuOdwqNd3a/zZG/NzvFfpEe2EpZEchAAnORv0pwBwZ2ka+Iu615M4vR+qta9LYJfa6IfgjUnlbrcLuERbvdRNv8I2pd7a+qi2ZZvGy6ZmWWvbZhTmQBEbgAgvPF08P6vms1Ev0KbU1X/kkCSFY5USxXHaa2HOlgvs3hZTO5hTW8uajoNIydhJKfPSlleVUNkdXIDAKH4M9f9X1SR2zTHSPGQk3LdW6LUZDM5r5DhMtUxo7VAb/rIZKXavRcM1/Ktjo8npy+RyeQb/BkQXlgx3oi0XMfKHv7GX1jiynU53cpjcpTUExrTB1L0FF+ZLdHmiZFcrjz7qqPIP14B7RHh52A8/gIb+Krxiqem31cRjDbMzH2ptVPFxjwBmifupUiMRTXMV6suHxYYC3Qjn7FU7yM2yoC/FNoGt+Mg6vte1Ye1GLyXTFij3lurdVebA/UazxcSW6lssLJNTWXpqGUdbxbSsuho0WV9scp1DvWUQ4/Bt/N7E4ZbCjUuVgb5CC6AMbYSY2qxDuFws9DX2WqqqlacYVsqGKZPansojUghp78c9tYYJznQQuanmcQUHIYlQVg2puR4RWySUVHnqJDl7mqwMUqRi2WK8+22ap6niT/ayve1CgMMHtbuWcGg7zKL36Tmr8VGRBGU7hZWmtrOIrRCeV0BXEeB60myOec/FF9odjQzbzBZ/q7OoIiDSxkBYd8DHxQlVqeI36fB+h3wx9f7y574j+blm913nc1+TXk/r0DbfkpOK9Y31jmZTT4ePShtC/fQcXUDJkd+HoPCmXWc2MCJTRxsjYH4OEhEwG4EJHBi2/fX2uD2A83SpHDWw75jacERWkhJCyENYS1jesi4/sM/zlQbyk1tuGYAAAAASUVORK5CYII="},"images":{"fallback":{"src":"/static/9139f914f9cdbdf8a491e6320043a0a7/c2d17/post.png","srcSet":"/static/9139f914f9cdbdf8a491e6320043a0a7/76a4f/post.png 750w,\n/static/9139f914f9cdbdf8a491e6320043a0a7/c2d17/post.png 800w","sizes":"100vw"},"sources":[{"srcSet":"/static/9139f914f9cdbdf8a491e6320043a0a7/2b382/post.avif 750w,\n/static/9139f914f9cdbdf8a491e6320043a0a7/6ee87/post.avif 800w","type":"image/avif","sizes":"100vw"},{"srcSet":"/static/9139f914f9cdbdf8a491e6320043a0a7/66907/post.webp 750w,\n/static/9139f914f9cdbdf8a491e6320043a0a7/0d27e/post.webp 800w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":0.75},"resize":{"src":"/static/9139f914f9cdbdf8a491e6320043a0a7/f3583/post.png","height":900,"width":1200}}}}},"html":"<h1>Infinity scroll or pager</h1>\n<p>I opted to implement a pager on markrox.dev</p>\n<h2>Pager.js</h2>\n<p>Followed the <a href=\"https://www.gatsbyjs.com/docs/adding-pagination/#gatsby-skip-here\">guidance</a> on the Gatsby site to query and set pages in the gatsby-node.js file, added a posts.js template and moved the Pager code to a separate file, pager.js.</p>\n<pre><code class=\"language-js\">import React from \"react\"\nimport { Link } from \"gatsby\"\n\nconst Pager = ({\n  isFirst,\n  isLast,\n  prevPage,\n  nextPage,\n  currentPage,\n  numPages,\n}) => {\n  return (\n    &#x3C;ul\n      className=\"post-pager\"\n      style={{\n        display: \"flex\",\n        flexWrap: \"wrap\",\n        alignItems: \"center\",\n        listStyle: \"none\",\n        paddingInlineStart: 0,\n      }}\n    >\n      {!isFirst &#x26;&#x26; (\n        &#x3C;Link to={prevPage} rel=\"prev\" style={{ marginRight: 20 }}>\n          ← Previous Page\n        &#x3C;/Link>\n      )}\n      {Array.from({ length: numPages }, (_, i) => (\n        &#x3C;li\n          key={`pagination-number${i + 1}`}\n          style={{\n            margin: 20,\n          }}\n        >\n          &#x3C;Link\n            to={`/${i === 0 ? \"\" : i + 1}`}\n            style={{\n              textDecoration: \"none\",\n              color: i + 1 === currentPage ? \"#ffffff\" : \"\",\n              background: i + 1 === currentPage ? \"#007acc\" : \"\",\n            }}\n          >\n            {i + 1}\n          &#x3C;/Link>\n        &#x3C;/li>\n      ))}\n      {!isLast &#x26;&#x26; (\n        &#x3C;Link to={nextPage} rel=\"next\" style={{ marginLeft: 20 }}>\n          Next Page →\n        &#x3C;/Link>\n      )}\n    &#x3C;/ul>\n  )\n}\n\nexport default Pager\n</code></pre>\n<p>Pager then can be added to a page template, posts.js:</p>\n<pre><code class=\"language-js\">import Pager from \"../components/Pager\"\n</code></pre>\n<p>Set the values, per the Gatsby documentation,</p>\n<pre><code class=\"language-js\">const { currentPage, numPages } = this.props.pageContext\nconst isFirst = currentPage === 1\nconst isLast = currentPage === numPages\nconst prevPage =\n  currentPage - 1 === 1 ? \"/\" : \"/\" + (currentPage - 1).toString()\nconst nextPage = \"/\" + (currentPage + 1).toString()\n</code></pre>\n<p>And then placed in the component hierarchy of the page (note the properties for the component passed in).</p>\n<pre><code class=\"language-js\">    &#x3C;Pager\n        isFirst={isFirst}\n        isLast={isLast}\n        prevPage={prevPage}\n        nextPage={nextPage}\n        currentPage={currentPage}\n        numPages={numPages} />\n</code></pre>"}},"pageContext":{"slug":"/development/2021/07/07/gatsby-custom-pager/"}},"staticQueryHashes":["1460613570","2052298874","2446865869","717330468"],"slicesMap":{}}